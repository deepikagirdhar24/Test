There is a due date function already implemented below for Work Request API below - 

    public String resolveDueDate(String dueDateInput) {
        if (dueDateInput == null || dueDateInput.trim().isEmpty()) return "";
        switch (dueDateInput.trim().toUpperCase()) {
            case "NA": return null;
            case "EMPTY": return "";
            case "FUTURE": return LocalDate.now().plusDays(7).toString();
            case "PAST": return LocalDate.now().minusDays(7).toString();
            case "TODAY": return LocalDate.now().toString();
            default: return dueDateInput;
        }
    }

    public POJOWorkRequest buildWorkRequestPayload(Map<String, String> mapWorkRequestDetails) {
        POJOWorkRequest workRequest = new POJOWorkRequest();

        workRequest.setStrBpId(payloadHelper.normalize(mapWorkRequestDetails.get("bpId")));
        workRequest.setStrType(payloadHelper.normalize(mapWorkRequestDetails.get("type")));
        workRequest.setStrSubject(payloadHelper.normalize(mapWorkRequestDetails.get("subject")));
        workRequest.setStrDescription(payloadHelper.normalize(mapWorkRequestDetails.get("description")));
        workRequest.setStrDueDate(payloadHelper.resolveDueDate(mapWorkRequestDetails.get("dueDate")));

        return workRequest;
    }

  Scenario Outline: Verify the Post Work Request API with valid data - <Comments>
    Given Send Request to get Authentication Token for ICOS
    When I generate the JWT Token
    Then Send Request to create Work Request with below details
      | bpId          | <bpId>        |
      | type          | <type>        |
      | dueDate       | <dueDate>     |
      | subject       | <subject>     |
      | description   | <description> |
    And I verify the Status Code for Work Request "<statusCode>"
    And I verify the "orderId" exists in Work Request response

    Examples:
      | bpId      | type       | dueDate | subject | description  | statusCode | Comments                                                               |
      | 66329769  | pay_domq   | FUTURE  | Subject | Description  | 200        | all valid inputs and type as Domestic Payment                          |

Now, similar to this, teher is another API for update Natural Person in which there are some date fileds as shown below - 

birthDate = default as : Date-40 years
issuedate = default as : DATE-1 day
validUntil = default as : DATE+1 Day
ukTaxResidenceFromDate = default as : DATE-10 years

NOw, these dates are passed from features files with Input as either NA, EMPTY, FUTURE, PAST, TODAY  and default as mentioned above.
Can you suggest how to implement the helper function for this ?


