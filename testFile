String strNaturalPersonObjectId = scenarioContext.getContext("naturalPersonObjectIdAss1");
String strLegalPersonObjectId   = scenarioContext.getContext("legalPersonObjectIdAss1");

String idCandidate = parts[0].trim();

String resolvedValue = null;
if (idCandidate.toUpperCase().contains("LEGAL_PERSON_OBJECT_ID")) {
    resolvedValue = strLegalPersonObjectId;
} else if (idCandidate.toUpperCase().contains("NATURAL_PERSON_OBJECT_ID")) {
    resolvedValue = strNaturalPersonObjectId;
}

// let resolveId handle EMPTY / NA / pass-through
assoc.setStrPersonId(payloadHelper.resolveId(idCandidate, resolvedValue));
