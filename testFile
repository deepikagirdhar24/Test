String personId = mapDocDetails.get("personId");

if (personId == null || personId.trim().isEmpty() || personId.equalsIgnoreCase("EMPTY")) {
    documentRequest.setStrPersonId(""); // Simulate empty input
} else if (personId.equalsIgnoreCase("USE_CONTEXT_ID")) {
    documentRequest.setStrPersonId(strNaturalPersonObjectId); // Use the one from context
} else {
    documentRequest.setStrPersonId(personId); // Use the value provided directly
}
